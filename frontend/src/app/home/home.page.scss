@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');

$bg: #0b0c15;
$primary: #00f2ff;
$danger: #ff0055;
$success: #00ff9d;

.game-bg {
  --background: radial-gradient(circle at center, #1b1e2f 0%, #000000 100%);
  font-family: 'Orbitron', sans-serif;
  letter-spacing: 1px;
  color: white;
}

// LOGIN
.glass-panel {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(10px);
  padding: 2rem; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1);
  text-align: center; margin: 50px 20px;
  h1 { color: $primary; letter-spacing: 2px; }
  ion-input { --background: rgba(0,0,0,0.3); border-radius: 10px; margin: 10px 0; color: white; }
}
.mode-selector {
  display: flex; gap: 10px; margin-bottom: 20px;
  button {
    flex: 1; padding: 10px; border: none; background: rgba(255,255,255,0.1); color: white; border-radius: 8px; font-weight: bold; font-family: 'Orbitron';
    &.active { background: $primary; color: black; box-shadow: 0 0 10px $primary; }
  }
}
.emoji-picker span { font-size: 2rem; margin: 5px; cursor: pointer; opacity: 0.5; &.selected { opacity: 1; transform: scale(1.2); } }

// LOBBY
.code-highlight { color: $primary; font-weight: 900; font-size: 1.5rem; text-shadow: 0 0 10px $primary; }
.transparent-item { --background: transparent; color: white; ion-select { color: $primary; font-weight: bold; } }
.settings-box { background: rgba(0,0,0,0.3); border-radius: 10px; margin-bottom: 20px; padding: 10px; }
.player-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 20px; }
.p-card {
  background: rgba(255,255,255,0.1); padding: 10px; border-radius: 10px; text-align: center;
  .avatar { font-size: 2rem; }
  .status { font-size: 0.8rem; color: #888; &.ready { color: $success; font-weight: bold; } }
}
.countdown-overlay {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 100;
  h1 { font-size: 8rem; color: $primary; }
}

// GAMEPLAY
.red-vignette {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  box-shadow: inset 0 0 100px $danger; pointer-events: none; z-index: 5;
  animation: breathe 3s infinite;
}
.reveal-screen {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: black; z-index: 50;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  h1 { font-size: 3rem; color: $primary; &.red { color: $danger; } }
  .big-word { font-size: 3rem; color: white; margin-top: 20px; text-transform: uppercase; text-align: center;}
  .hint-text { margin-top: 30px; font-size: 1.2rem; color: #aaa; strong { color: $success; } }
}

// TABLERO
.board { position: relative; height: 80vh; width: 100%; display: flex; align-items: center; justify-content: center; transition: all 0.3s; }

// EFECTO PÁNICO
.board.panic {
  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both infinite;
  border: 2px solid $danger;
  box-shadow: inset 0 0 50px rgba(255, 0, 0, 0.5);
}

.timer-badge {
  position: absolute; top: 20px; font-size: 1.5rem; font-weight: bold; 
  background: rgba(0,0,0,0.5); padding: 5px 15px; border-radius: 20px; border: 1px solid white;
  &.urgent { border-color: $danger; color: $danger; }
}

.center-hud {
  position: absolute; text-align: center; z-index: 0;
  .my-word { font-size: 1.5rem; font-weight: bold; color: rgba(255,255,255,0.5); }
  .phase-badge { background: $danger; padding: 5px 15px; border-radius: 20px; margin-top: 10px; animation: pulse 1s infinite; }
}

.planet {
  position: absolute; display: flex; flex-direction: column; align-items: center;
  width: 80px; height: 80px; margin-left: -40px; margin-top: -40px; cursor: pointer;
  .p-avatar {
    width: 60px; height: 60px; background: #2a2a2a; border-radius: 50%;
    display: flex; align-items: center; justify-content: center; font-size: 30px;
    border: 2px solid #555; transition: 0.3s;
    &.talking { border-color: $success; box-shadow: 0 0 20px $success; transform: scale(1.1); }
  }
  .p-name { background: rgba(0,0,0,0.7); padding: 2px 5px; border-radius: 5px; font-size: 12px; margin-top: 5px; }
  .vote-count {
    position: absolute; top: 0; right: 10px; background: $danger; width: 25px; height: 25px; 
    border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;
  }
}

// FEEDBACK SELECCIÓN VOTO
.planet.selected-target .p-avatar {
  border-color: $danger;
  box-shadow: 0 0 15px $danger, inset 0 0 10px $danger;
  transform: scale(1.2);
}

.bottom-controls, .bottom-info { position: fixed; bottom: 20px; width: 90%; left: 5%; text-align: center; }
.turn-info {
  background: rgba(0,0,0,0.7); padding: 15px; border-radius: 10px; font-size: 1rem; border: 1px solid $primary;
  strong { color: $primary; text-transform: uppercase; }
}

// RESULTADO
.result-screen {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 100;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  background: rgba(0,0,0,0.9);
  &.win { background: rgba(0, 100, 0, 0.9); }
  &.lose { background: rgba(100, 0, 0, 0.9); }
  h1 { font-size: 3rem; margin-bottom: 20px; }
  ion-button { margin-top: 30px; }
}

@keyframes breathe { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
@keyframes bounce { 0% { transform: scale(0); } 60% { transform: scale(1.2); } 100% { transform: scale(1); } }
@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
@keyframes shake {
  10%, 90% { transform: translate3d(-1px, 0, 0); }
  20%, 80% { transform: translate3d(2px, 0, 0); }
  30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
  40%, 60% { transform: translate3d(4px, 0, 0); }
}